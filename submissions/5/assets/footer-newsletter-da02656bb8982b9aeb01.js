/*! For license information please see footer-newsletter-da02656bb8982b9aeb01.js.LICENSE.txt */
(window.webpackJsonp_gp_web_frontend=window.webpackJsonp_gp_web_frontend||[]).push([["footer-newsletter"],{"../../node_modules/depd/lib/browser/index.js":e=>{"use strict";function t(e,t){if("function"!=typeof e)throw new TypeError("argument fn must be a function");return e}function r(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function o(e){}return o._file=void 0,o._ignored=!0,o._namespace=e,o._traced=!1,o._warned=Object.create(null),o.function=t,o.property=r,o}},"../../node_modules/http-errors/index.js":(e,t,r)=>{"use strict";var o,n,s,a=r("../../node_modules/depd/lib/browser/index.js")("http-errors"),i=r("../../node_modules/setprototypeof/index.js"),c=r("../../node_modules/statuses/index.js"),u=r("../../node_modules/inherits/inherits_browser.js"),p=r("../../node_modules/toidentifier/index.js");function l(e){return Number(String(e).charAt(0)+"00")}function d(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}e.exports=function e(){for(var t,r,o=500,n={},s=0;s<arguments.length;s++){var i=arguments[s];if(i instanceof Error)o=(t=i).status||t.statusCode||o;else switch(typeof i){case"string":r=i;break;case"number":o=i,0!==s&&a("non-first-argument status code; replace with createError("+i+", ...)");break;case"object":n=i}}"number"==typeof o&&(o<400||o>=600)&&a("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof o||!c[o]&&(o<400||o>=600))&&(o=500);var u=e[o]||e[l(o)];t||(t=u?new u(r):new Error(r||c[o]),Error.captureStackTrace(t,e));u&&t instanceof u&&t.status===o||(t.expose=o<500,t.status=t.statusCode=o);for(var p in n)"status"!==p&&"statusCode"!==p&&(t[p]=n[p]);return t},e.exports.HttpError=function(){function e(){throw new TypeError("cannot construct abstract class")}return u(e,Error),e}(),o=e.exports,n=c.codes,s=e.exports.HttpError,n.forEach((function(e){var t,r=p(c[e]);switch(l(e)){case 400:t=function(e,t,r){var o=t.match(/Error$/)?t:t+"Error";function n(e){var t=null!=e?e:c[r],s=new Error(t);return Error.captureStackTrace(s,n),i(s,n.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),s}return u(n,e),d(n,o),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!0,n}(s,r,e);break;case 500:t=function(e,t,r){var o=t.match(/Error$/)?t:t+"Error";function n(e){var t=null!=e?e:c[r],s=new Error(t);return Error.captureStackTrace(s,n),i(s,n.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),s}return u(n,e),d(n,o),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!1,n}(s,r,e)}t&&(o[e]=t,o[r]=t)})),o["I'mateapot"]=a.function(o.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')},"../../node_modules/inherits/inherits_browser.js":e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},"../../node_modules/setprototypeof/index.js":e=>{"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},"../../node_modules/statuses/codes.json":e=>{"use strict";e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},"../../node_modules/statuses/index.js":(e,t,r)=>{"use strict";var o=r("../../node_modules/statuses/codes.json");function n(e){if("number"==typeof e){if(!n[e])throw new Error("invalid status code: "+e);return e}if("string"!=typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);if(!isNaN(t)){if(!n[t])throw new Error("invalid status code: "+t);return t}if(!(t=n[e.toLowerCase()]))throw new Error('invalid status message: "'+e+'"');return t}e.exports=n,n.STATUS_CODES=o,n.codes=function(e,t){var r=[];return Object.keys(t).forEach((function(o){var n=t[o],s=Number(o);e[s]=n,e[n]=s,e[n.toLowerCase()]=s,r.push(s)})),r}(n,o),n.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},n.empty={204:!0,205:!0,304:!0},n.retry={502:!0,503:!0,504:!0}},"../../node_modules/toidentifier/index.js":e=>{e.exports=function(e){return e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},"./src/ts/components/footer-newsletter/footer-newsletter.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{footerNewsletterComponent:()=>n,init:()=>s});var o=r("./src/ts/utils/crm.ts");const n=()=>{const e={subscribe:(t,r)=>{const o=r.subscribe(()=>{const n=r.getState();n.crm.receive?(o(),e.subscriptionSuccess(t,n.crm.receive.type)):n.crm.error&&e.subscriptionError(t)})},afterStart:(t,r)=>{var o;const n=e.subscriptionRequest(t,r);return null===(o=t.form)||void 0===o||o.addEventListener("submit",n),e.subscribe(t,r),n},subscriptionSuccess:(e,t)=>{e.rootElement.classList.replace("loading","success"),"footer"===t&&(0,o.W)(t)},subscriptionError:e=>{e.rootElement.classList.replace("loading","error")},subscriptionRequest:(e,t)=>r=>{var n;r.preventDefault(),e.rootElement.classList.add("loading"),(0,o.C)(t,{email:null===(n=e.emailInput)||void 0===n?void 0:n.value,element:"newsletter-footer",referrer:window.location.href,copyVersion:"0001"})},bindEvents:(t,r)=>{const o=(e=>({rootElement:e,form:e.querySelector("form"),emailInput:e.querySelector("input")}))(t);return{subscriptionRequestListener:e.afterStart(o,r)}}};return e},s=(e,t)=>{const r=Math.floor(1e4*Math.random());return{listeners:n().bindEvents(e,t),componentId:"footer-newsletter-"+r}}},"./src/ts/core/omniture/omniture-utils.ts":(e,t,r)=>{"use strict";r.d(t,{WX:()=>f,jm:()=>y,fx:()=>v,IP:()=>h,Di:()=>S,Pw:()=>j,w2:()=>_,Q5:()=>N,im:()=>T,sf:()=>I,vl:()=>k,Iy:()=>x,Nt:()=>O,Z_:()=>P,ND:()=>C,Dm:()=>D,A_:()=>q});var o=r("../../node_modules/js-cookie/src/js.cookie.js"),n=r.n(o),s=r("../../node_modules/js-md5/src/md5.js"),a=r.n(s),i=r("../../node_modules/ramda/src/pathOr.js"),c=r.n(i),u=r("./src/ts/config/config.ts"),p=r("./src/ts/config/settings.ts"),l=r("./src/ts/utils/inview.ts"),d=r("./src/ts/core/client.ts");const m=[{category:"eitw",event:"event184"},{category:"tomarket",event:"event206"}],f=(()=>{let e=null;return()=>{if(!e){const t=Date.now(),r=Math.floor(1e9+9e9*Math.random());e=a()(`${t}${r}`).toString()}return e}})(),g=()=>{const e=new URLSearchParams(window.location.href);return e.has("q")?e.get("q"):"<blank></blank>"},w=(e,t)=>{const{page:r}=e,{primaryDisplayName:o}=t,n=o&&o.length?o:"no category";return"post"===r.category.pageType?`${(0,u.u)("city")} ${(0,u.u)("locale").split("-")[0]} : ${n} : blog : ${r.pageInfo.contentTitle}`:`${r.pageInfo.contentTitle} : ${r.category.pageType} page`},y=e=>{const{page:t}=window.digitalData,r=JSON.parse(c()("{}",["dataset","config"],e)),o={account:"timeoutworldwide",charSet:"utf-8",hier1:t.pageInfo.contentTitle,eVar2:t.pageInfo.author.split(", "),linkLeaveQueryString:!1,module:"omniture",pageName:w(window.digitalData,r),prop1:g(),prop3:t.pageInfo.contentTitle,prop4:t.pageInfo.contentID,prop5:t.category.pageType,prop14:"D=g",prop18:t.category.pageType,prop33:t.pageInfo.author,prop35:"v5",prop41:t.pageInfo.publishDate,prop49:r.omnitureSiteName,prop51:t.pageInfo.isOO,prop52:t.pageInfo.placeId,prop53:t.pageInfo.language,prop54:t.category.primaryCategory||null,prop55:t.category.subCategory1||null,siteName:r.omnitureSiteName,trackDownloadLinks:!0,trackExternalLinks:!0,trackInlineStats:!0,trackingServer:"metrics.timeout.com",trackingServerSecure:"smetrics.timeout.com",useForcedLinkTracking:!1,usePlugins:!0,visitorNamespace:"timeoutcommunications",prop56:(0,d.iu)(),eVar56:"D=c56",prop57:(0,d.uj)(),eVar57:"D=c57"};return n=o,Object.keys(n).reduce((e,t)=>{const r=n[t];return"string"!=typeof r||/^[A-Z]=[a-z]/.test(r)?Array.isArray(r)&&r.length?e[t]=r.map(e=>e.toLowerCase()):e[t]=r:e[t]=r.toLowerCase(),e},{});var n},v=e=>{if(!n())return{};const{uid:t}=n().getJSON(p.EW.USER_COOKIE_NAME)||{};return{prop28:b("UID",t,e),evar28:t}},b=(e="",t="",r=window.s)=>{const o=r.prop28?r.prop28.split(" : "):[];return o["emailUID"===e?1:0]=t,o.join(" : ")},h=(e={},t=window.s)=>(e.eVar59||(t.eVar59=""),e.eVar69||(t.eVar69=void 0,t.prop69=void 0),["prop43","prop26","eVar64"].map(r=>{e[r]||(t[r]=void 0)}),t),E=(e,t=[])=>c()("",["events"],e).split(",").concat(t).filter((e,t,r)=>!!e&&t===r.indexOf(e)).join(","),S=e=>"true"===e.dataset.trackManually,j=e=>"string"==typeof e.pageName&&e.pageName?{pageName:e.pageName}:"string"==typeof e.siteName&&e.siteName?{pageName:[e.siteName,e.w.location.pathname].join(" : ")}:{pageName:e.w.location.pathname},_=e=>{const t={};return[3,4,5].forEach(r=>{const o=e["prop"+r];o&&(t["eVar"+r]="D=c"+r)}),t},N=e=>{if("string"!=typeof e.pageName)return{};const t=e.pageName.split(" : "),r={hier1:t.join(",")};return[6,7,8,9,10].reduce((e,r,o)=>{const n=o+2,s=t.length>=n?t.slice(0,n).join(" : "):"";return{...e,["prop"+r]:s,["eVar"+r]:s?"D=c"+r:""}},r)},T=e=>({eVar2:"D=pageName",events:E(e,["event2"])}),I=(e,t)=>{const r=c()(!1,["page","evfAttributes","onlineBookingAvailable"],t),o=c()("",["page","pageInfo","contentType"],t),n={};let s,a,i="event162";return n.events=e.events||"","hub"===o?(s=document.querySelectorAll(".tile:not(.tile_ad)").length,a=document.querySelectorAll("a.booking_button").length,i=`event159=${s},event163,event160=${a}`):["feature","listfeature"].includes(o)?(s=document.querySelectorAll(".listCard").length,a=document.querySelectorAll(".listCard .js-booking-btn").length,i=`event159=${s},event163,event160=${a}`):r&&(i="event161"),n.events+=","+i,n},k=e=>{const t={prop16:e.getNewRepeat().toLowerCase(),eVar16:"D=c16"};return"new"==t.prop16&&(t.prop17="D=pageName"),t},x=e=>{const t={},r=n().get(p.EW.EMAIL_UID);r&&(t.prop28=b("emailUID",r,e));const o=n().get(p.EW.AD_TEST);o&&(t.eVar30=o);const s=n().get(p.EW.AB_DIE_ROLL);return s&&(t.prop66=s),t.campaign=["cid","dcmp","cmpid"].map(t=>e.Util.getQueryParam(t)).filter(Boolean).join(","),e.eVar17||(t.eVar17=["intcid","int_cmp"].map(t=>e.Util.getQueryParam(t)).filter(Boolean).join(",")),t},O=(e,t)=>{const r=c()([],["page","category","pageTags"],t);if(!r||!r.length)return{};const o=m.filter(e=>r.includes(e.category));return o.length?{events:c()("",["events"],e).split(",").filter(Boolean).concat([...o.map(e=>e.event)]).join(",")}:{}},P=e=>{const t=document.querySelector('[data-component="listFeaturePage"]');if(null===t)return{};const r={};r.events=e.events||"";const o=""!==r.events?",":"",n=t.querySelectorAll(".listCard");let s=!0;const a={event190:n.length,event191:t.querySelectorAll(".listCard .js-toggle-label.xs-block").length,event195:[...n].filter(e=>{const t=!!s&&!!(0,l.oe)(e);return!1===t&&(s=!1),t}).length};let i=0;return[...n].some((e,t)=>{const r=null!==e.querySelector(".js-toggle-label.xs-block");return r&&(i=t),r}),a.event194=0===a.event191?n.length:i,document.querySelector(".js-ecom_widget")&&(a.event196=void 0),r.events+=o+((e={})=>Object.entries(e).reduce((function(e,t){const r=void 0!==t[1]?`${t[0]}=${t[1]}`:t[0];return e.concat([r])}),[]))(a).join(","),r},C=e=>n().get(p.EW.NEWSLETTER_SIGNED_UP)?{events:c()("",["events"],e)+",event201"}:{},D=(e,t)=>{const r=c()("",["page","attributes","commercial","type"],t);if("string"!=typeof r||!r)return{};const o=Object.entries({branded:2,sponsored:1}).reduce((e,[t,o])=>(t===r&&e.push("event228="+o),e),[]);return{events:E(e,o)}},q=()=>{const e=window.performance.timing.loadEventStart-window.performance.timing.navigationStart,t=window.performance.timing.domContentLoadedEventStart-window.performance.timing.navigationStart;return e<0||e>36e5?[]:[`event124=${e},event203=${t}`]}},"./src/ts/utils/crm.ts":(e,t,r)=>{"use strict";r.d(t,{C:()=>m,W:()=>v});var o=r("../shared-types/frontend/components/newsletter/subscription-status.ts"),n=r("../shared-types/frontend/core/store.ts"),s=r("../../node_modules/js-cookie/src/js.cookie.js"),a=r.n(s),i=r("../../node_modules/ramda/src/pathOr.js"),c=r.n(i),u=r("./src/ts/config/config.ts"),p=r("./src/ts/core/client.ts"),l=r("./src/ts/core/omniture/omniture-utils.ts"),d=r("./src/ts/utils/request.ts");const m=async(e,t)=>g(e,w(e,t)),f={"newsletter-footer":"footer","newsletter-popup":"popup","newsletter-nav":"nav","newsletter-popup-gate":"popup-gate","newsletter-inline":"inline"},g=async(e,t)=>{try{const r=await(0,d.j0)({url:(0,u.u)("auth"),headers:{"Content-Type":"application/json"},data:t});return a().set(o.y.SignedUp,""+Date.now(),{expires:365}),e.dispatch({type:n.U.CRMReceive,payload:{...r,type:f[t.element]}}),r}catch(t){e.dispatch({type:n.U.CRMError,payload:{message:t.message,timestamp:Date.now()}})}},w=(e,{email:t,referrer:r,element:o,copyVersion:s="0001"})=>{const a=`s=GP&p=${o}&d=${(0,p.iu)()}&u=${(0,l.WX)()}&c=${s}`,i={email:t,site:(0,u.u)("site"),locale:(0,u.u)("locale"),platform:a,element:o,referrer:r};return e.dispatch({type:n.U.CRMSend,payload:i}),i},y={footer:"Newsletter Footer Success","list-feature":"Newsletter Inline Success",nav:"Newsletter Header Success",popup:"Newsletter Popup Success","popup-gate":"Newsletter Gate Success",inline:"Newsletter Inline Success"},v=(e="")=>{if(!c()(!1,["PARSELY","conversions","trackNewsletterSignup"],window))return!1;const t=y[e];return!!t&&(window.PARSELY.conversions.trackNewsletterSignup(t),!0)}},"./src/ts/utils/inview.ts":(e,t,r)=>{"use strict";r.d(t,{oe:()=>o,oO:()=>n,W0:()=>s});const o=e=>{if(!e)return!1;const t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,n=t.top<=r&&t.top+t.height>=0,s=t.left<=o&&t.left+t.width>=0;return n&&s};function n({element:e,observerOptions:t={},isInViewportCallback:r,isNotInViewportCallback:o}){new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&r&&(o||t.unobserve(e.target),r(e)),!e.isIntersecting&&o&&(r||t.unobserve(e.target),o(e))})},t).observe(e)}function s(e,t){return e?new Promise(r=>{n({element:e,observerOptions:t,isInViewportCallback:r})}):Promise.reject()}},"./src/ts/utils/request.ts":(e,t,r)=>{"use strict";r.d(t,{A_:()=>s,j0:()=>a,am:()=>u});var o=r("../../node_modules/http-errors/index.js"),n=r.n(o);const s=async({url:e="",headers:t={},cookies:r=!1,cors:o=!0,responseType:s="json",data:a})=>{const i=c({url:e,headers:t,cookies:r,cors:o,data:a}),u=await fetch(i);if(!u.ok)throw n()(u.status,u.statusText);return p(s)(u)},a=async({url:e="",headers:t={},cookies:r=!1,cors:o=!0,responseType:s="json",data:a,bodyType:c="json"})=>{const u=i({url:e,headers:t,cookies:r,cors:o,data:a,bodyType:c}),l=await fetch(u);if(!l.ok)throw n()(l.status,l.statusText);return p(s)(l)},i=({url:e="",headers:t={},cookies:r=!1,cors:o=!0,data:n={},bodyType:s="json"})=>{const a={method:"POST",headers:new Headers(t),credentials:r?"include":"same-origin",mode:o?"cors":"same-origin",body:l(s,n)};return new Request(e,a)},c=({url:e="",headers:t={},cookies:r=!1,cors:o=!0,data:n={}})=>{const s=n?u({urlPrefix:e,params:n}):e,a={method:"GET",headers:new Headers(t),mode:o?"cors":"same-origin",credentials:r?"include":"same-origin"};return new Request(s,a)},u=({urlPrefix:e="",params:t={},hash:r})=>{const o=new URL(e,window.location.href);if("string"==typeof t){const e=o.toString(),r=e.includes("?")?"&":"?";return`${e}${r}${t}`}return Object.entries(t).forEach(([e,t])=>{Array.isArray(t)?t.forEach(t=>{o.searchParams.append(e,t)}):o.searchParams.append(e,t)}),"string"==typeof r&&(o.hash=r),o.toString()},p=e=>{if(!(e=>["arrayBuffer","blob","formData","json","text"].includes(e))(e))throw new Error("Invalid response type requested - "+e);return t=>{if(t.ok)return t[e]();throw n()(t.status,t.statusText)}},l=(e,t)=>{if(!(e=>["formData","json","queryString","text"].includes(e))(e))throw new Error("Invalid request type provided - "+e);switch(e){case"json":return JSON.stringify(t);case"formData":case"queryString":return d(e,t);default:return""+t}},d=(e,t)=>{const r=new{formData:FormData,queryString:URLSearchParams}[e];return Object.entries(t).forEach(([e,t])=>{r.set(e,t)}),r}},"../shared-types/frontend/components/newsletter/subscription-status.ts":(e,t,r)=>{"use strict";var o;r.d(t,{y:()=>o}),function(e){e.SignedUp="_TO_Newsletter_SignedUp",e.Dismissed="_TO_Newsletter_Dismissed",e.PageViewCount="_TO_Newsletter_PageViewCount"}(o||(o={}))}}]);