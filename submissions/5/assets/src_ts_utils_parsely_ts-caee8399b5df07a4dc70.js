/*! For license information please see src_ts_utils_parsely_ts-caee8399b5df07a4dc70.js.LICENSE.txt */
(window.webpackJsonp_gp_web_frontend=window.webpackJsonp_gp_web_frontend||[]).push([["src_ts_utils_parsely_ts"],{"../../node_modules/depd/lib/browser/index.js":e=>{"use strict";function r(e,r){if("function"!=typeof e)throw new TypeError("argument fn must be a function");return e}function t(e,r,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,r);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function n(e){}return n._file=void 0,n._ignored=!0,n._namespace=e,n._traced=!1,n._warned=Object.create(null),n.function=r,n.property=t,n}},"../../node_modules/http-errors/index.js":(e,r,t)=>{"use strict";var n,o,s,a=t("../../node_modules/depd/lib/browser/index.js")("http-errors"),i=t("../../node_modules/setprototypeof/index.js"),u=t("../../node_modules/statuses/index.js"),c=t("../../node_modules/inherits/inherits_browser.js"),d=t("../../node_modules/toidentifier/index.js");function l(e){return Number(String(e).charAt(0)+"00")}function p(e,r){var t=Object.getOwnPropertyDescriptor(e,"name");t&&t.configurable&&(t.value=r,Object.defineProperty(e,"name",t))}e.exports=function e(){for(var r,t,n=500,o={},s=0;s<arguments.length;s++){var i=arguments[s];if(i instanceof Error)n=(r=i).status||r.statusCode||n;else switch(typeof i){case"string":t=i;break;case"number":n=i,0!==s&&a("non-first-argument status code; replace with createError("+i+", ...)");break;case"object":o=i}}"number"==typeof n&&(n<400||n>=600)&&a("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof n||!u[n]&&(n<400||n>=600))&&(n=500);var c=e[n]||e[l(n)];r||(r=c?new c(t):new Error(t||u[n]),Error.captureStackTrace(r,e));c&&r instanceof c&&r.status===n||(r.expose=n<500,r.status=r.statusCode=n);for(var d in o)"status"!==d&&"statusCode"!==d&&(r[d]=o[d]);return r},e.exports.HttpError=function(){function e(){throw new TypeError("cannot construct abstract class")}return c(e,Error),e}(),n=e.exports,o=u.codes,s=e.exports.HttpError,o.forEach((function(e){var r,t=d(u[e]);switch(l(e)){case 400:r=function(e,r,t){var n=r.match(/Error$/)?r:r+"Error";function o(e){var r=null!=e?e:u[t],s=new Error(r);return Error.captureStackTrace(s,o),i(s,o.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:r,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return c(o,e),p(o,n),o.prototype.status=t,o.prototype.statusCode=t,o.prototype.expose=!0,o}(s,t,e);break;case 500:r=function(e,r,t){var n=r.match(/Error$/)?r:r+"Error";function o(e){var r=null!=e?e:u[t],s=new Error(r);return Error.captureStackTrace(s,o),i(s,o.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:r,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return c(o,e),p(o,n),o.prototype.status=t,o.prototype.statusCode=t,o.prototype.expose=!1,o}(s,t,e)}r&&(n[e]=r,n[t]=r)})),n["I'mateapot"]=a.function(n.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')},"../../node_modules/inherits/inherits_browser.js":e=>{"function"==typeof Object.create?e.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,r){if(r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}}},"../../node_modules/ramda/src/defaultTo.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry2.js")((function(e,r){return null==r||r!=r?e:r}));e.exports=n},"../../node_modules/ramda/src/internal/_curry2.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry1.js"),o=t("../../node_modules/ramda/src/internal/_isPlaceholder.js");e.exports=function(e){return function r(t,s){switch(arguments.length){case 0:return r;case 1:return o(t)?r:n((function(r){return e(t,r)}));default:return o(t)&&o(s)?r:o(t)?n((function(r){return e(r,s)})):o(s)?n((function(r){return e(t,r)})):e(t,s)}}}},"../../node_modules/ramda/src/internal/_curry3.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry1.js"),o=t("../../node_modules/ramda/src/internal/_curry2.js"),s=t("../../node_modules/ramda/src/internal/_isPlaceholder.js");e.exports=function(e){return function r(t,a,i){switch(arguments.length){case 0:return r;case 1:return s(t)?r:o((function(r,n){return e(t,r,n)}));case 2:return s(t)&&s(a)?r:s(t)?o((function(r,t){return e(r,a,t)})):s(a)?o((function(r,n){return e(t,r,n)})):n((function(r){return e(t,a,r)}));default:return s(t)&&s(a)&&s(i)?r:s(t)&&s(a)?o((function(r,t){return e(r,t,i)})):s(t)&&s(i)?o((function(r,t){return e(r,a,t)})):s(a)&&s(i)?o((function(r,n){return e(t,r,n)})):s(t)?n((function(r){return e(r,a,i)})):s(a)?n((function(r){return e(t,r,i)})):s(i)?n((function(r){return e(t,a,r)})):e(t,a,i)}}}},"../../node_modules/ramda/src/internal/_isInteger.js":e=>{e.exports=Number.isInteger||function(e){return e<<0===e}},"../../node_modules/ramda/src/internal/_isString.js":e=>{e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},"../../node_modules/ramda/src/nth.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry2.js"),o=t("../../node_modules/ramda/src/internal/_isString.js"),s=n((function(e,r){var t=e<0?r.length+e:e;return o(r)?r.charAt(t):r[t]}));e.exports=s},"../../node_modules/ramda/src/path.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry2.js"),o=t("../../node_modules/ramda/src/paths.js"),s=n((function(e,r){return o([e],r)[0]}));e.exports=s},"../../node_modules/ramda/src/pathOr.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry3.js"),o=t("../../node_modules/ramda/src/defaultTo.js"),s=t("../../node_modules/ramda/src/path.js"),a=n((function(e,r,t){return o(e,s(r,t))}));e.exports=a},"../../node_modules/ramda/src/paths.js":(e,r,t)=>{var n=t("../../node_modules/ramda/src/internal/_curry2.js"),o=t("../../node_modules/ramda/src/internal/_isInteger.js"),s=t("../../node_modules/ramda/src/nth.js"),a=n((function(e,r){return e.map((function(e){for(var t,n=r,a=0;a<e.length;){if(null==n)return;t=e[a],n=o(t)?s(t,n):n[t],a+=1}return n}))}));e.exports=a},"../../node_modules/setprototypeof/index.js":e=>{"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,r){return e.__proto__=r,e}:function(e,r){for(var t in r)e.hasOwnProperty(t)||(e[t]=r[t]);return e})},"../../node_modules/statuses/codes.json":e=>{"use strict";e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},"../../node_modules/statuses/index.js":(e,r,t)=>{"use strict";var n=t("../../node_modules/statuses/codes.json");function o(e){if("number"==typeof e){if(!o[e])throw new Error("invalid status code: "+e);return e}if("string"!=typeof e)throw new TypeError("code must be a number or string");var r=parseInt(e,10);if(!isNaN(r)){if(!o[r])throw new Error("invalid status code: "+r);return r}if(!(r=o[e.toLowerCase()]))throw new Error('invalid status message: "'+e+'"');return r}e.exports=o,o.STATUS_CODES=n,o.codes=function(e,r){var t=[];return Object.keys(r).forEach((function(n){var o=r[n],s=Number(n);e[s]=o,e[o]=s,e[o.toLowerCase()]=s,t.push(s)})),t}(o,n),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0}},"../../node_modules/toidentifier/index.js":e=>{e.exports=function(e){return e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},"./src/ts/utils/parsely.ts":(e,r,t)=>{"use strict";t.d(r,{qh:()=>i,QI:()=>u,Us:()=>c,qR:()=>d,D8:()=>p,mn:()=>m});var n=t("../../node_modules/ramda/src/pathOr.js"),o=t.n(n),s=t("./src/ts/utils/request.ts"),a=t("./src/ts/utils/responsive-image.ts");const i=({apiKey:e="",url:r,section:t,size:n=16,from:o,sort:a,boost:i,pubDateStart:u,exclude:c})=>{const d={apikey:e,limit:n,url:r,section:t};return o&&(d.page=o),a&&(d.sort=a),i&&(d.boost=i),u&&(d.pub_date_start=u),c&&(d.exclude=c),{url:(0,s.am)({urlPrefix:"https://api.parsely.com/v2/related",params:d})}},u=e=>/checkout.timeout/.test(e)?e:"/"+e.replace(/^(?:\/\/|[^/]+)*\//,""),c=({apiKey:e="",apiPath:r="posts",from:t,pubDateStart:n,secret:o,section:a,size:i=16,sort:u,tag:c})=>{const d="https://api.parsely.com/v2/analytics/"+r,l={apikey:e,limit:i,secret:o,section:a};return t&&(l.page=t),n&&(l.pub_date_start=n),u&&(l.sort=u),c&&(l.tag=c),{url:(0,s.am)({urlPrefix:""+d,params:l})}},d=e=>{const r=o()(!1,["digitalData","page","pageInfo","destinationURL"],window);if(!r)return e;const t=new URL(r);return e.filter(({url:e})=>t.pathname!==new URL(e).pathname)},l=({index:e,item:r,trackingUID:t,type:n})=>({prop45:`${t}::${e+1}`,prop60:r.title,pev2:"list "+n,events:["event232"]}),p=({data:e,template:r,trackingUID:t})=>{const n=document.createElement("div");n.appendChild(r.cloneNode(!0));const o=n.innerHTML;return e.reduce((e,r,n)=>{const s=r.url,i=u(s),c=r.image_url?r.image_url.replace("/320/210/image.jpg","/{width}/{height}/image.jpg"):"https://media.timeout.com/images/105716137/{width}/{height}/image.jpg",d=(0,a.J)({pattern:c,aspectRatioKey:"4-3",title:r.title,alt:r.title});return e+o.replace(/\[cta_link\]/g,i).replace(/\[title\]/g,r.title).replace(/\[image\]/g,d).replace(/\[tracking_tile\]/g,JSON.stringify(l({trackingUID:t,type:"tile",index:n,item:r})).replace(/"/g,"&quot;")).replace(/\[tracking_image\]/g,JSON.stringify(l({trackingUID:t,type:"image",index:n,item:r})).replace(/"/g,"&quot;"))},"")},m=e=>e.replace(" | exclusive London offer by Time Out","").replace(" - London - Time Out","")},"./src/ts/utils/request.ts":(e,r,t)=>{"use strict";t.d(r,{A_:()=>s,j0:()=>a,am:()=>c});var n=t("../../node_modules/http-errors/index.js"),o=t.n(n);const s=async({url:e="",headers:r={},cookies:t=!1,cors:n=!0,responseType:s="json",data:a})=>{const i=u({url:e,headers:r,cookies:t,cors:n,data:a}),c=await fetch(i);if(!c.ok)throw o()(c.status,c.statusText);return d(s)(c)},a=async({url:e="",headers:r={},cookies:t=!1,cors:n=!0,responseType:s="json",data:a,bodyType:u="json"})=>{const c=i({url:e,headers:r,cookies:t,cors:n,data:a,bodyType:u}),l=await fetch(c);if(!l.ok)throw o()(l.status,l.statusText);return d(s)(l)},i=({url:e="",headers:r={},cookies:t=!1,cors:n=!0,data:o={},bodyType:s="json"})=>{const a={method:"POST",headers:new Headers(r),credentials:t?"include":"same-origin",mode:n?"cors":"same-origin",body:l(s,o)};return new Request(e,a)},u=({url:e="",headers:r={},cookies:t=!1,cors:n=!0,data:o={}})=>{const s=o?c({urlPrefix:e,params:o}):e,a={method:"GET",headers:new Headers(r),mode:n?"cors":"same-origin",credentials:t?"include":"same-origin"};return new Request(s,a)},c=({urlPrefix:e="",params:r={},hash:t})=>{const n=new URL(e,window.location.href);if("string"==typeof r){const e=n.toString(),t=e.includes("?")?"&":"?";return`${e}${t}${r}`}return Object.entries(r).forEach(([e,r])=>{Array.isArray(r)?r.forEach(r=>{n.searchParams.append(e,r)}):n.searchParams.append(e,r)}),"string"==typeof t&&(n.hash=t),n.toString()},d=e=>{if(!(e=>["arrayBuffer","blob","formData","json","text"].includes(e))(e))throw new Error("Invalid response type requested - "+e);return r=>{if(r.ok)return r[e]();throw o()(r.status,r.statusText)}},l=(e,r)=>{if(!(e=>["formData","json","queryString","text"].includes(e))(e))throw new Error("Invalid request type provided - "+e);switch(e){case"json":return JSON.stringify(r);case"formData":case"queryString":return p(e,r);default:return""+r}},p=(e,r)=>{const t=new{formData:FormData,queryString:URLSearchParams}[e];return Object.entries(r).forEach(([e,r])=>{t.set(e,r)}),t}},"./src/ts/utils/responsive-image.ts":(e,r,t)=>{"use strict";var n;t.d(r,{J:()=>s}),function(e){e["4-3"]="auto",e["16-9"]="auto"}(n||(n={}));const o={"4-3":[[380,285],[750,562],[1024,768],[1372,1029]],"16-9":[[400,225],[750,422],[1024,576],[1372,772]]},s=({pattern:e="{width}/{height}",aspectRatioKey:r="4-3",title:t="",alt:s="",imageClass:a=""})=>{const i=((e="{width}/{height}",r="4-3")=>o[r].map(r=>`${e.replace("{width}",r[0].toString()).replace("{height}",r[1].toString())} ${r[0]}w`).join(","))(e,r),[,[u,c]]=o[r];return`<img\n        src="${e.replace("{width}",""+u).replace("{height}",""+c)}"\n        srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="\n        data-sizes="${n[r]}"\n        data-srcset="${i}"\n        class="lazyload ${a} aspect-ratio-${r}"\n        title="${t}"\n        alt="${s}"\n    />`}}}]);